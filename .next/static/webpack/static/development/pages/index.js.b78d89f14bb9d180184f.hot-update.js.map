{"version":3,"file":"static/webpack/static/development/pages/index.js.b78d89f14bb9d180184f.hot-update.js","sources":["webpack:///./components/Products.jsx"],"sourcesContent":["import React from 'react'\nimport delay from 'delay'\n\nimport { fontSizer, getCols, } from '../utils/utils'\n\nclass Products extends React.PureComponent {\n    state = {\n        position: 'initial'\n    }\n\n    componentDidUpdate = prevProps => {\n        if( !this.props.rafLoop || this.props.rafLoop === prevProps.rafLoop ) return\n\n        this.props.rafLoop.add(this.onScroll)\n    }\n\n    render = () => {\n        const products = [\n            {\n                image: '/static/images/dresser-light.png',\n                title: 'Task Light',\n                price: '600.00'\n            },\n            {\n                image: '/static/images/tea-light.png',\n                title: 'Task Light',\n                price: '600.00'\n            },\n            {\n                image: '/static/images/dresser-light.png',\n                title: 'Dresser Light',\n                price: '900.00'\n            },\n            {\n                image: '/static/images/tea-light.png',\n                title: 'Puzzle Tea Light',\n                price: '120.00'\n            },\n        ]\n\n        return (\n            <div className=\"container\" ref={ el => this.stickyWrapper = el }>\n                <div className={`sticky-text ${ this.state.position !== 'initial' ? 'fixed' : '' }`} ref={ el => this.stickyEl = el }>\n                    <p>\n                        Our objects are completely stripped down, they have nothing to hide. Good looking and good for the world.\n                        <strong><a href=\"\" target=\"_blank\" rel=\"noopener\">â†’ More about the studio</a></strong>\n                    </p>\n                </div>\n                \n                { this.renderInstagramPost() }\n\n                <div className=\"products\">\n                    { this.renderProducts(products) } \n                </div>\n\n                { typeof window !== 'undefined' && window.innerWidth < 1024  && this.renderInstagramPost() } \n\n                <style jsx>{`\n                    .container {\n                        position: relative;\n                        display: flex;\n                        flex-direction: column;\n\n                        width: 100%;\n                        height: 100%;\n\n                        padding: ${ getCols(2) }vw;\n                    }\n\n                    .sticky-text {\n                        font-size: 16px; // TODO: responsive font size mobile\n                        line-height: 1.3em;\n                        letter-spacing: -.01em;\n\n                        width: 90%;\n                        margin-bottom: ${ getCols(4.85) }vw;\n                        \n                        opacity: ${ this.state.position === 'bottom' ? 0 : 1 };\n                        transition: opacity .45s ease;\n                    }\n\n                    .sticky-text strong {\n                        display: block;\n                        margin-top: .8em;\n                    }\n\n                    @media (min-width: 900px) { \n                        .container {\n                            align-items: flex-end;\n                            \n                            padding: ${ getCols(1) }vw;\n                            padding-bottom: 0;\n                        }\n\n                        .sticky-text {\n                            position: absolute;\n                            top: ${getCols(1)}vw;\n                            left: ${ getCols(1) }vw;\n    \n                            font-size: ${ fontSizer(20) }vw;\n                            line-height: 1.3em;\n                            letter-spacing: -.01em;\n    \n                            width: ${ getCols(7) }vw;\n                            margin-bottom: 0;\n                        }\n\n                        .sticky-text.fixed {\n                            position: fixed;\n                        }\n                    }\n                `}</style>\n            </div>\n        )\n    }\n\n    renderProducts = products => {\n        return products.map((product, i) => {\n            return (\n                <div className=\"product-card\" key={i}>\n                    <a href=\"\" target=\"_blank\" rel=\"noopener\" className=\"product-image\">\n                        <span className=\"product-image-hover\"></span>\n                    </a>\n\n                    <div className=\"caption\">\n                        <strong>{ product.title }</strong>\n                        EUR { product.price }\n                    </div>\n\n                    <style jsx>{`\n                        .product-card {\n                            display: flex;\n                            flex-direction: column;\n\n                            width: 100%;\n\n                            margin-bottom: ${ getCols(2.5) }vw;\n                        }\n\n                        .product-card:last-of-type {\n                            margin-bottom: ${ getCols(6) }vw;\n                        }\n\n                        .product-image {\n                            position: relative;\n                            overflow: hidden;\n                            \n                            width: 100%;\n                            height: ${ getCols(26*1.2) }vw;\n                            background: #F7F7F7;\n\n                            background-image: url('${ product.image }');\n                            background-position: center;\n                            background-repeat: no-repeat;\n                            background-size: contain;\n                        }\n                        \n                        .product-image-hover {\n                            position: absolute;\n                            top: 0;\n                            left: 0;\n                            \n                            width: 100%;\n                            height: 100%;\n\n                            z-index: 1;\n\n                            background-image: url('/static/images/hover-placeholder.jpg');\n                            background-position: center;\n                            background-repeat: no-repeat;\n                            background-size: cover;\n\n                            opacity: 0;\n                            transform: scale(1.05);\n                            transition: all .75s cubic-bezier(.19, 1, .22, 1);\n                        }\n\n                        @media (hover: hover) {\n                            .product-image:hover .product-image-hover {\n                                transform: none;\n                                opacity: 1;\n                            }\n                        }\n\n                        .caption {\n                            font-size: 14px; // TODO: responsive font size mobile\n                            line-height: 1.43em;\n\n                            margin: 1.5em 0;\n                        }\n\n                        .caption strong {\n                            display: block;\n                        }\n\n                        @media (min-width: 900px) { \n                            .product-card {\n                                width: ${ getCols(13) }vw;\n    \n                                margin-bottom: ${ getCols(1.25) }vw;\n                            }\n\n                            .product-card:last-of-type {\n                                margin-bottom: ${ getCols(.3) }vw;\n                            }\n\n                            .product-image {\n                                height: ${ getCols(13*1.2) }vw;\n                            }\n\n                            .caption {\n                                font-size: ${ fontSizer(16) }vw;\n                                line-height: 1.37em;\n                                \n                                margin: 1.75em 0;\n                            }\n                        }\n                    `}</style>\n                </div>\n            )\n        })\n    }\n\n    renderInstagramPost = () => {\n        return (\n            <div className=\"instagram-post\">\n                <div className=\"instagram-image\">\n                    <div className=\"instagram-image-mask\">\n                        <div className=\"instagram-image-inner\">\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"caption\">\n                    <strong>Stay posted</strong>\n                    Follow us on instagram\n                </div>\n\n                <style jsx>{`\n                    .instagram-post {\n                        display: flex;\n                        flex-direction: column;\n                        align-items: flex-end;\n\n                        width: 100%;\n                    }\n\n                    .instagram-image {\n                        width: ${ getCols(13) }vw;\n                        height: ${ getCols(13 * 1.25) }vw;\n                    }\n\n                    .instagram-image-mask {\n                        position: relative;\n                        width: 100%;\n                        height: 100%;\n                        \n                        overflow: hidden;\n\n                        transform: ${ this.state.position !== 'bottom' ? 'translateX(-100%)' : 'none' };\n                        transition: transform 1.15s cubic-bezier(.19, 1, .22, 1);\n                    }\n                    \n                    .instagram-image-inner {\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n\n                        width: 100%;\n                        height: 100%;\n\n                        background-image: url('/static/images/instagram.jpg');\n                        background-size: cover;\n                        background-repeat: no-repeat;\n\n                        transform: ${ this.state.position !== 'bottom' ? 'translateX(80%)' : 'none' };\n                        transition: transform .95s cubic-bezier(.19, 1, .22, 1);\n                    }\n\n                    .caption {\n                        font-size: 14px; // TODO: responsive font size mobile\n                        line-height: 1.43em;\n\n                        margin: 1.5em 0;\n\n                        width: ${ getCols(13) }vw;\n                    }\n\n                    .caption strong {\n                        display: block;\n                    }\n\n                    @media (min-width: 900px) { \n                        .instagram-post {\n                            position: absolute;\n                            bottom: ${ getCols(.85) }vw;\n                            left: ${ getCols(1) }vw;\n\n                            width: ${ getCols(4) }vw;\n                            \n                            transform: ${ this.state.position !== 'bottom' ? 'translateX(-100%)' : 'none' };\n                            opacity: ${ this.state.position !== 'bottom' ? 0: 1 };\n\n                            transition: transform .95s cubic-bezier(.19, 1, .22, 1), opacity .45s ease;\n                        }\n\n                        .instagram-image {\n                            width: ${ getCols(4) }vw;\n                            height: ${ getCols(4 * 1.25) }vw;\n                        }\n\n                        .caption {\n                            font-size: ${ fontSizer(16) }vw;\n                            line-height: 1.37em;\n                            \n                            margin: 1.75em 0;\n                            margin-bottom: 0;\n                            width: ${ getCols(4) }vw;\n                        }\n                    }\n                `}</style>\n            </div>\n        )\n    }\n\n    onScroll = args => {\n        if( !this.stickyEl || !this.stickyWrapper ) return\n\n        if( !this.bounds || this.bounds.windowWidth !== window.innerWidth ) {\n            const wrapperBounds = this.stickyWrapper.getBoundingClientRect()\n            this.bounds = {\n                top: wrapperBounds.top + args.scrollY,\n                bottom: wrapperBounds.bottom + args.scrollY,\n                windowWidth: window.innerWidth\n            }\n        }\n\n        const {top = 0, bottom = 0} = this.bounds\n\n        let position = 'initial'\n\n        if( args.scrollY > top && args.scrollY + window.innerHeight < bottom) {\n            position = 'fixed'\n        } else if (args.scrollY + window.innerHeight >= bottom) {\n            position = 'bottom'\n        }\n\n        if( position === this.state.position ) return\n\n        this.setState({\n            position: position\n        })\n    }\n}\n\nexport default Products"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAVA;AAAA;AAAA;AAyEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AANA;AAAA;AAAA;AAqGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AATA;AAAA;AAAA;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;;;AA5VA;AACA;AA6VA;;;;A","sourceRoot":""}